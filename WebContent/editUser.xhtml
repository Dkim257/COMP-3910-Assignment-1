<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>PrimeFaces Test</title>
</h:head>
<h:body styleClass="grey lighten-3">
	<ui:composition template="/templates/masterLayout.xhtml">
		<ui:define name="windowTitle">
            #{msgs.windowTitle}
         </ui:define>
		<ui:define name="heading">
			<ui:include src="/sections/userHeader.xhtml" />
		</ui:define>

		<ui:define name="content">
			<div class="s12">
				<h3>#{msgs.editUser}</h3>
			</div>
			<h:form id="user-form">
				<p:growl id="msgs" life="4000" showDetail="true" />
				<div class="card">
					<div class="card-content">
						<div class="left-align">
							<div class="row ">
								<div class="col s5 input-field">
									<i class="material-icons prefix">account_circle</i>
									<p:inputText value="#{employeeTable.currentEditUser.emp_number}" id="employeeNum" required="true"
										requiredMessage="#{msgs.eNumReq}" />
									<h:outputLabel for="employeeNum" value="#{msgs.empNum}" />
								</div><br/><br/><br/><br/>
								<div class="col s5 input-field">
									<i class="material-icons prefix">account_circle</i>
									<p:inputText value="#{employeeTable.currentEditUser.name}" id="name" required="true"
										requiredMessage="#{msgs.nameReq}" />
									<h:outputLabel for="name" value="#{msgs.name}" />
								</div><br/><br/><br/><br/>
								<div class="col s5 input-field">
									<i class="material-icons prefix">cloud_circle</i>
									<p:inputText value="#{employeeTable.currentEditUser.userName}" id="username" required="true"
										requiredMessage="#{msgs.idReq}" />
									<h:outputLabel for="username" value="#{msgs.username}" />
								</div><br/><br/><br/><br/>
								<div class="col s5 input-field">
									<i class="material-icons prefix">lock</i>
									<p:password id="password" value="#{employeeTable.newPassword}"/>
									<h:outputLabel for="password" value="#{msgs.password}" />
								</div>
								
								<div class="col s12" >
									<p:commandLink value="#{msgs.resetPass}" id="resetPassBtn" 
										action="#{employeeTable.resetPassword(employeeTable.currentEditUser)}"
										actionListener="#{growlView.passwordReset()}"
										styleClass="btn waves-effect waves-light" update=":user-form:msgs" />
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col s12" id="saveBtn">
					<p:commandLink value="#{msgs.save}" id="saveBtn"
						action="#{employeeTable.saveChanges()}" update=":user-form:msgs"
						styleClass="btn-large waves-effect waves-light blue-grey darken-2" />
				</div>
			</h:form>
		</ui:define>
	</ui:composition>
</h:body>
</html>
